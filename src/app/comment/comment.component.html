
<md-card class="wide-card" id="comments">
  <md-card-title>

    <div id="commentheader" class="centerdiv">
      <div class="title"><md-icon><i class="material-icons">question_answer</i></md-icon> Comments </div>
      <div class="subtitle" *ngIf="store.getState().session == null"><md-icon>perm_identity</md-icon>Please Sign In</div>
    </div>
  </md-card-title>
  <md-card-content>
    <div *ngIf="store.getState().session != null" class="main-application centerdiv">

      <div *ngIf="toggleComment==true">
        <form (ngSubmit)="submitComment()" autocomplete="off">
          <div>
          <md-textarea
            placeholder="Comments here"
            autofocus
            [(ngModel)]="text"
            name="text"
            [value]="text"
            cols="60"
            rows="5"
          ></md-textarea>
            <div>
              <button id="submit-button" md-raised-button color="accent">Send comment, {{ store.getState().session.given_name }}</button>
            </div>
          </div>

        </form>
      </div>
      <div *ngIf="toggleComment==false">
        <p>Your comment was sent</p>
        <button id="toggle-comment" md-raised-button  (click)="toggleComment=true;">
          <i class="material-icons">comment</i>
          New comment
        </button>
      </div>
    </div>
  </md-card-content>

</md-card>

<div  *ngFor="let comment of this.comments">
  <md-card class="comment">
    <md-card-content>
      <md-icon>perm_identity</md-icon>
      <!--img src="" align="left" class="avatar" alt="{{ comment.login }}'s Avatar" title="{{ comment.login }}'s Avatar" /-->
      {{ comment.text }}
    </md-card-content>
    <md-card-subtitle>
      {{ comment.createdAt }}
      <strong>{{ comment.login }}</strong>
  </md-card-subtitle>
  </md-card>
</div>
<comments-pagination *ngIf="comments.length > 0" firstPage="{{ firstDate }}" lastPage="{{ lastDate }}"></comments-pagination>
